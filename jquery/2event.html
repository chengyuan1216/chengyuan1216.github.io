<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../index.css">
    <script src="../jquery.min.js"></script>
</head>
<body >
<div class="box">
    <h3>ready()</h3>
    <p>
        作用：DOM加载后执行的函数。<br/>
        注意与window.onload的区别。<br/>
    </p>

    <h3>on()</h3>
    <p>
        作用：<br/>
        在选定的元素上绑定一个或多个事件处理函数。<br/>


        <h4>命名空间：</h4>
        事件名称可以添加指定的event namespaces（命名空间） 来简化删除或触发事件。<br/>
        例如，"click.myPlugin.simple"为 click 事件同时定义了两个命名空间 myPlugin 和 simple。<br/>
        通过上述方法绑定的 click 事件处理，可以用.off("click.myPlugin")<br/>
        或 .off("click.simple")删除绑定到相应元素的Click事件处理程序，<br/>
        而不会干扰其他绑定在该元素上的“click（点击）” 事件。<br/>

        <h4>直接和委托的事件：</h4>
        如果省略selector或者是null，那么事件处理程序被称为直接事件 或者 直接绑定事件 。<br/>
        每次选中的元素触发事件时，就会执行处理程序，不管它直接绑定在元素上，<br/>
        还是从后代（内部）元素冒泡到该元素的。<br/>

        当提供selector参数时，事件不会在直接绑定的元素上触发，但当selector参数选择器匹配到后代（内部元素）的时候，<br/>
        事件处理函数才会被触发。jQuery 会从 event target 开始向上层元素(<br/>
        例如，由最内层元素到最外层元素)开始冒泡，并且在传播路径上所有绑定了相同事件的元素若满足匹配的选择器，<br/>
        那么这些元素上的事件也会被触发。<br/>

        <h4>data参数</h4>
        如果data参数给.on()并且不是null 或者 undefined，那么每次触发事件时，<br/>
        event.data都传递给处理程序。data参数可以是任何类型，但如果是字符串类型时，<br/>
        那么selector参数必须提供，或明确地传递null，这样的 data 参数不会误认为是选择器。<br/>
        最好是使用一个对象（键值对） ，所以可以作为属性传递多个值。<br/>

        用法：<br/>
        1、当事件被首次触发时，处理函数列表才会被设置到元素上。<br/>
        当前元素上添加或删除事件处理函数不会立即生效，直到下一次的事件被处理。<br/>
        2、通过使用 .preventDefault()，仅取消默认的动作。
        3、通过使用 .stopPropagation()，防止事件的冒泡行为。
        4、trigger()主动触发事件，第一个参数是事件名称，第二个参数是要传递给事件函数的数据。
        <pre>
            $( "#dataTable tbody tr" ).on( "click", function() {
                console.log( $( this ).text() );
            });//直接

            $( "#dataTable tbody" ).on( "click", "tr", function() {
              console.log( $( this ).text() );
            });//代理


        </pre>

        <div id="div2" style="width:200px; height:200px; background:red;"></div>
        <script>
            function fn1(){
                alert(1);
            }　
            function fn2(){
                $(this).off("click",fn1);
            }　
            $("#div2").on("click",fn1);
            $("#div2").on("click",fn2);
        </script>
        <pre>
            function fn1(){
                alert(1);
            }　
            function fn2(){
                $(this).off("click",fn1);//不会立即生效。
            }　
            $("#div2").on("click",fn1);
            $("#div2").on("click",fn2);
        </pre>

        <div id="div3" style="width:200px; height:200px; background:green;"></div>
        <script>
            $("#div3").on("click",{"name":"luu"},function(ev){
                alert(ev.data.name);
            });
        </script>
        <pre>
            $("#div3").on("click",{"name":"luu"},function(ev){
                alert(ev.data.name);//传递数据
            });
        </pre>

        <ul id="ul1">
            <li>1</li>
            <li class="li2">2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
        </ul>
        <script>
            $("#ul1").on("click",".li2",function(){
                alert("这是ul1下的有.li2类的元素");
            });
        </script>
        <pre>
            $("#ul1").on("click",".li2",function(){

                alert("这是ul1下的有.li2类的元素");//事件代理

            });
        </pre>

    <div id="div4" style="width:200px; height:200px; background:green;"></div>
    <button id="btn">click</button>
    <script>
        $("#div4").on("myclick",function(){
            alert("触发了div的自定义事件，只能手动触发！");
        });
        $("#btn").on("click",function(){
            $("#div4").trigger("myclick");
        });
    </script>
    <pre>
        $("#div4").on("myclick",function(){//自定义事件
            alert("触发了div的自定义事件，只能手动触发！");
        });
        $("#btn").on("click",function(){
            $("#div4").trigger("myclick");
        });
    </pre>

    <div id="div5" style="width:200px; height:200px; background:green;"></div>
    <script>
        $("#div5").on({
            mouseover:function(){
                $(this).css({"backgroundColor":"red"});
            },
            mouseout:function(){
                $(this).css({"backgroundColor":"green"});
            }
        });
    </script>
    <pre>
        $("#div5").on({//同时绑定多个事件，也可以为多个事件绑定同一个函数。
            mouseover:function(){
                $(this).css({"backgroundColor":"red"});
            },
            mouseout:function(){
                $(this).css({"backgroundColor":"green"});
            }
        });
    </pre>

    <a href="http://www.baidu.com" id="a">百度</a>
    <script>
        $("#a").on("click",function(ev){
            ev.preventDefault();
            alert("不跳转");
        });
    </script>
    <pre>
       $("#a").on("click",function(ev){
            ev.preventDefault();//阻止默认事件。
            alert("不跳转");
        });
    </pre>
    </p>

        <h3>off()</h3>
    <p>
        作用： <br/>
        off() 方法移除用.on()绑定的事件处理程序。 <br/>
        用法：<br/>
        off( events [, selector ] [, handler ] )<br/>
        1、移除时要指定事件名称、命名空间、选择器、函数名的几种。<br/>
        2、没有参数时表示移除对象上的所有事件。<br/>
        3、注意命名空间和选择器参数的作用。<br/>
        命名空间只删除指定事件的某几个函数，选择器则是一般在代理事件中会用到。<br/>
    </p>

    <div id="div6" style="width:200px; height:200px; background:red;"></div>
    <script>
        function fn1(){
            alert(1);
        }
        function fn3(){
            alert(3);
        }
        function fn2(){
            $(this).off(".my");
        }
        $("#div6").on("click.my",fn1);
        $("#div6").on("click",fn3);
        $("#div6").on("click",fn2);
    </script>
    <pre>
        function fn1(){
            alert(1);
        }
        function fn3(){
            alert(3);
        }
        function fn2(){
            $(this).off(".my");//只移除指定命名空间内的事件函数。
        }
        $("#div6").on("click.my",fn1);
        $("#div6").on("click",fn3);
        $("#div6").on("click",fn2);
    </pre>

    <h3>one()</h3>
    <p>
        作用：<br/>
        处理函数在每个元素上每种事件类型最多执行一次。<br/>
        用法：<br/>
        与on()一样。<br/>
    </p>

    <h3>trigger()</h3>
    <p>
        作用：<br/>
        手动触发事件。<br/>
        用法;<br/>
        1、.trigger()事件会在DOM树上冒泡;return false或preventDefault()阻止冒泡。<br/>
        2、常用于触发自定义时间类型。<br/>
    </p>
    <span id="s1">0</span> <button id="btn1">btn1</button> <button id="btn2">btn2</button>
    <script>
        var num = 0;
        $("#btn1").click(function(){
            $("#s1").text(++num);
        });
        $("#btn2").click(function(){
            $("#btn1").trigger("click");
            $("#s1").text(++num);
        });
    </script>
    <pre>
        var num = 0;
        $("#btn1").click(function(){
            $("#s1").text(++num);
        });
        $("#btn2").click(function(){
            $("#btn1").trigger("click");//#btn1手动触发
            $("#s1").text(++num);
        });
    </pre>

    <h3>triggerHandler()</h3>
    <p>
        作用：<br/>
        手动触发事件。<br/>
        用法：<br/>
        1、不会触发浏览器的默认事件。<br/>
    </p>

    <h3>hover()</h3>
    <p>
        作用：<br/>
        将二个事件函数绑定到匹配元素上，分别当鼠标指针进入和离开元素时被执行。<br/>
        用法：<br/>
        1、是mouseover和mouseout的结合。<br/>
    </p>

    <h3>change()</h3>
    <p>
        作用：<br/>
        注册指定的事件。<br/>
        用法：<br/>
        1、要传递数据时在第一个参数<br/>
        2、没有参数时主动触发change事件。<br/>
    </p>

</div>

</body>
</html>
