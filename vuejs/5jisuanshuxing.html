<!DOCTYPE html>
<html xmlns:v-on="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../index.css">
    <script src="../vue.min.js"></script>
</head>
<body >
<div class="box">
    <h3>计算属性</h3>
    <ol>
        <li>计算属性是单独放在computed里面的。</li>
        <li>计算属性是通过set设置值，get获取值。给计算属性赋值就是给set函数传递参数。</li>
        <li>计算属性其实就是js对象中的访问器属性。</li>
    </ol>
    <div id="demo1">
        <p>Original message: "{{ message }}"</p>
        <p>Computed reversed message: "{{ reversedMessage }}"</p>
    </div>
    <script>
        var vm = new Vue({
            data:{
                message:"hello world"
            },
            computed:{
                reversedMessage:{
                    get:function(){
                        return this.message.split("").reverse().join("");
                    },
                    set:function(val){
                        this.message = val;
                    }
                }
            }
        }).$mount("#demo1")

        vm.reversedMessage = "12";

    </script>

    <pre>
        var vm = new Vue({
            data:{
                message:"hello world"
            },
            computed:{
                reversedMessage:{
                    get:function(){
                        return this.message.split("").reverse().join("");
                    },
                    set:function(val){
                        this.message = val;
                    }
                }
            }
        }).$mount("#demo1")

        vm.reversedMessage = "12";
    </pre>

    <h3>观察者</h3>
    <ol>
        <li>在watch对象里面定义，key是要观察的数据，val是数据改变后执行的函数。</li>
        <li>也可以在外部用$watch("dataName",callBack)</li>
    </ol>
    <div id="demo2">
        <h5>{{msg}}</h5>
        <input type="text" v-model="msg"/>
    </div>
    <script>
        new Vue({
            el:"#demo2",
            data:{
                msg:""
            },
//            watch:{
//                msg:function(){
//                    alert("msg的值改变了")
//                }
//            }
        }).$watch("msg",function(){
            alert("msg的值改变了")
        });
    </script>
    <pre>
        new Vue({
            el:"#demo2",
            data:{
                msg:""
            },
//            watch:{
//                msg:function(){
//                    alert("msg的值改变了")
//                }
//            }
        }).$watch("msg",function(){
            alert("msg的值改变了")
        });
    </pre>
    <h3>观察者和计算属性的区别</h3>
    <p>
        相同： <br/>
        都是监听某个数据，然后作出相应的行为。 <br/>
        不同： <br/>
        computed： <br/>
        当原始值变化时，重新计算计算属性的值。侧重点是对源数据的依赖。 <br/> <br/>

        watch: <br/>
        监听的是本身。侧重点是自身变化后，产生的行为。 <br/>


    </p>

</div>

</body>
</html>
