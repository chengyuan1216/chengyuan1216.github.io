<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../index.css">
    <script src="../jquery.min.js"></script>
</head>
<body >
<div class="box">
    <h3>jquery( )</h3>
    <p>
        <mark>参数是选择器</mark><br/>
        作用：选择指定的元素。可以是复杂的选择器。 <br/>
        可以有得二个参数，是从指定的jq对象内的某个元素。<br/>
        用法：$("#div p")、$("p",$("#div"))。<br/>
        <ul id="u1">
            <li>1</li>
            <li>2</li>
            <li>3</li>
        </ul>
        <script>
            $("li",$("#u1")).each(function(){
                $(this).css({background:"red"});
            });
        </script>
        <pre>
            $("li",$("#u1")).each(function(){

                $(this).css({background:"red"});

            });
        </pre>

        <mark>参数是html字符串</mark><br/>
        作用：<br/>
        动态创建由 jQuery 对象包装的 DOM 元素。<br/>
        用法：<br/>
        $("&ltp/>")或$("&ltp>&lt/p>")。<br/>
        第二个参数是指定的要创建元素的文档。<br/>
        本质上是使用了浏览器的innerHTML和js原生的document.createElement()。<br/>
        记住创建input是必须加上type属性，因为IE的type属性只能设置一次。<br/>

        <mark>参数函数</mark><br/>
        作用：<br/>
        当DOM完成加载的时候绑定一个要执行的函数。<br/>
        $(document).ready()的简写。<br/>

    </p>

    <h3>each()</h3>
    <p>
        作用：遍历一个jq对象里的每一个元素。<br/>
        用法：<br/>
        1、回调函数有两个参数，第一个参数数元素的索引，从一开始。<br/>
        2、return false;终止循环执行回调函数,阻止下一次开始的所有循环。<br/>
        3、回调函数里this是js对象，$(this)是jq对象。<br/>
        <ul id="each">
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
        </ul>
        <script>
            $("#each li").each(function(index,ele){
                if( index == 3){
                    return false;
                }
               $(this).on("click",function(){
                    alert("第"+index+"个li的内容是："+ $(this).text());
                });
            });
        </script>
        <pre>
             ele.css({background:"red"});
                if( index == 3){
                    return false;
                }
           $(this).on("click",function(){
                alert("第"+index+"个li的内容是："+ $(this).text());
            });
        </pre>
    </p>


    <h3>length</h3>
    <p>
        作用：<br/>
        返回jq对象对应的DOM元素的个数。<br/>
    </p>

    <h3>get()</h3>
    <p>
        作用：
        <br/>返回jq对象对应的第几个DOM元素，从零开始。<br/>
        用法：<br/>
        1、负数大于元素的个数时返回undefined，-1表示最后一项。<br/>
        2、如果没有参数，则返回一个数组包含所有的元素。<br/>

    </p>

    <h3>index()</h3>
    <p>
        作用：<br/>
        从匹配的元素中搜索给定元素的索引值，从0开始计数。<br/>
        用法：<br/>
        1、没有参数时，返回对象中的第一个元素相对于同辈元素的位置。<br/>
        2、一组元素调用，参数是DOM元素或jq对象（如果是一个集合则取起一个），返回参数相对于元素组中的位置。<br/>
        3、一个jq对象，参数是选择器，返回jq对象在选择的元素组中的位置。<br/>

    </p>

    <h3>data()</h3>
    <p>
        作用：<br/>
        在匹配元素上存储任意相关数据.<br/>
        用法：<br/>
        存数据：obj.data(key,value);<br/>
        取数据：obj.data(key);<br/>
        这个方法也可以取h5的data-添加的数据。<br/>
        HTML 5 data- 属性 将自动被引用到jQuery的数据对象中。<br/>
        不带参数将返回一个对象包含所有的数据。<br/>

    </p>

    <h3>removeData( )</h3>
    <p>
        作用：<br/>
        删除指定的存储的数据。<br/>
        用法：<br/>
        1、有参数是删除指定的数据。<br/>
        2、没有参数删除所有的数据。<br/>
        3、不会删除data-上的数据，用removeAttr()<br/>
    </p>

    <h3>queue()</h3>
    <p>
        作用； <br/>
        显示在匹配的元素上的已经执行的函数列队。<br/>
    </p>

    <p>
        <h4>先了解两个底层方法：</h4>
        （1）$.queue<br/>
        这个方法有两个作用，一是给元素设置队列，而是获取队列存入的回调函数。<br/>
        接受三个参数，第一个是DOM元素，第二个是队列名称，第三个是function或function组成的数组。
        <div style="width:40px; height:40px; background:red;" id="div1"></div>
        <script>


        </script>
        <pre>
            var oDiv = $("#div1");
            function cb1(){ alert(1); }
            function cb2(){ alert(2); }
            var arr = [cb1, cb2];
            $.queue(oDiv,"mx",cb1);
            $.queue(oDiv,"xm",arr);
            //返回值是一个数组。
            var c1 =  $.queue(oDiv,"mx");
            var c2 =  $.queue(oDiv,"xm");

            c1[0]();//1
            c2[0]();//1
            c2[1]();//2
        </pre>

        （2）$.dequeue()<br/>
            将回调函数出列执行，每调用一次仅列出一个。<br/>
            第一个参数是DOM元素，第二个是队列名称。<br/>
        <script>


        </script>
        <pre>
            var oDiv = $("#div1");
            function cb1(){ alert(1); }
            function cb2(){ alert(2); }
            var arr = [cb1, cb2];
            $.queue(oDiv,"mx",cb1);
            $.queue(oDiv,"xm",arr);

            $.dequeue(oDiv,"mx");//1
            $.dequeue(oDiv,"xm");//1
        </pre>

        ******************<br/>
        queue() 比$.queue()少了第一个参数，内部使用this代替第一个参数。
        <strong>如果默认是fx,则可以直接传入回调函数。</strong>
      <script>

      </script>
        <pre>
            var oDiv = $("#div1");
              function cb1(){ alert(1); }
              function cb2(){ alert(2); }

              oDiv.queue("sd",cb1);
              oDiv.queue("sd",cb2);

              var CB = oDiv.queue("sd");
              CB[0]();//1
              CB[1]();//2

        </pre>


    </p>


    <h3>dequeue()</h3>

    <p>
        作用： <br/>
        执行匹配元素队列的下一个函数。<br/>
    </p>

    <div id="div2" style="width:20px; height:20px; background:yellow;"></div>
    <script>

    </script>
    <pre>
        //设定90s后执行动画化
        $("#div2").delay(10000).animate({height:"400px"},1000)
        .animate({width:"400px"},1000);

        //立即执行队列
        $("#div2").dequeue("fx");
    </pre>

    <pre>
        $("#div2").animate({height:"400px"},1000);

        $("#div2").queue(function(){
            document.title = "hello"
            $(this).dequeue("fx");//如果不加这一句那么下面的远东将不执行
        });

        $("#div2").animate({width:"400px"},1000);
    </pre>

    <h3>clearQueue()</h3>
    <p>
        作用：<br/>
        从列队中移除所有未执行的项。
    </p>
    <script>

    </script>
    <pre>
        $("#div2").animate({height:"400px"},1000,function(){
            //清空队列，这里后续的运动将没有
            $(this).clearQueue("fx");
        }).animate({width:"400px"},1000);
    </pre>
</div>

</body>
</html>
