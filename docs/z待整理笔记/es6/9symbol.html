<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../index.css">
    <script src="../index.js"></script>
    <script src="../babel.js"></script>
    <script>

    </script>
</head>
<body >

<div class="box">
    <h3>什么是Symbol？</h3>
    <p>
        ES6 引入了一种新的原始数据类型Symbol，表示独一无二的值。它是 JavaScript 语言的第七种数据类型，前六种是：undefined、null、布尔值（Boolean）、字符串（String）、数值（Number）、对象（Object）。
    </p>
    <p>
        Symbol 值通过Symbol函数生成。这就是说，对象的属性名现在可以有两种类型，一种是原来就有的字符串，另一种就是新增的 Symbol 类型。凡是属性名属于 Symbol 类型，就都是独一无二的，可以保证不会与其他属性名产生冲突。
    </p>
    <p>
        基本上，它是一种类似于字符串的数据类型。但是却不能输出打印。
    </p>

    <pre>
        let s = Symbol();
        alert(typeof s)//symbol
        alert(s.toString())//symbol()
        alert(s);//Cannot convert a Symbol value to a string
    </pre>

    <p>
        Symbol函数可以接受一个字符串作为参数，表示对 Symbol 实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分。
        <strong>注意：参数只是用于描述，就算两个symbol的描述一样，这两个</strong>
    </p>

    <pre>
        let s1 = Symbol("s1");
        let s2 = Symbol("s2");
        //alert(s1.toString())//symbol(s1)
        //alert(s2.toString())//symbol(s2)
    </pre>

    <p>
        Symbol 值不能与其他类型的值进行运算，会报错。 <br/>
        但可以显式的转换为字符串，这很有用。 <br/>
        Symbol 值也可以转为布尔值,都是返回true，但是不能转为数值。
    </p>
    <pre>
        let s1 = Symbol("s1");
        console.log(s1.toString())//Symbol(s1)
        console.log(Boolean(s1))//true

        s1 + "hello";// Cannot convert a Symbol value to a string

    </pre>

    <h3>symbol的用途</h3>
    <p>
        由于每一个 Symbol 值都是不相等的，这意味着 Symbol 值可以作为标识符，用于对象的属性名，就能保证不会出现同名的属性。
    </p>
    <pre  type="text/babel">
        var s1 = Symbol();
        var s2 = Symbol();
        var s3 = Symbol();
        var a = {
            [s3]:"s3是变量，所以要加[]"
        };
        //其实用法与使用它类型数据差不多，但唯一的不同是只能通过使用变量s1、s2来使用它。
        a[s1] = "hello";
        a[s2] = "world";
        console.log(a[s1],a[s2],a[s3])//hello world s3是变量，所以要加[]
    </pre>

    <h3>Symbol属性名的遍历</h3>
    <p>
        Symbol 作为属性名，该属性不会出现在for...in、for...of循环中。 <br/>
        <strong> for...in </strong>: 会输出自身以及原型链上可枚举的属性。 <br/>
        <strong>Object.keys()</strong>:用来获取对象自身可枚举的属性键,返回一个属性名组成的数组，顺序与for...in的顺序一样。
        语法 <br/>
        <strong>Object.getOwnPropertyNames()</strong> ：用来获取对象自身的全部属性名。
        <a href="https://zhidao.baidu.com/question/714811003573028765.html">资料链接</a>
    </p>
    <p>
        Object.getOwnPropertySymbols方法返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。<br/>
        另一个新的 API，Reflect.ownKeys方法可以返回所有类型的键名，包括常规键名和 Symbol 键名。
    </p>
    <pre>
        let obj = {
          [Symbol('my_key')]: 1,
          enum: 2,
          nonEnum: 3
        };

        Reflect.ownKeys(obj)
        //  ["enum", "nonEnum", Symbol(my_key)]
    </pre>

    <h3>Symbol.for()，Symbol.keyFor() </h3>
    <p>
        Symbol.for方法接受一个字符串作为参数，然后搜索有没有以该参数作为名称的 Symbol 值。
        如果有，就返回这个 Symbol 值，否则就新建并返回一个以该字符串为名称的 Symbol 值。
    </p>
    <p>
        只有用Symbol.for()定义的值才能被复用。
        其本质上就是将通过Symbol.for()方法创建的值登记，如果下一次要创建相同的symbol就可以实现。
    </p>
    <pre>
        var s1 = Symbol("s");
        var s2 = Symbol.for("s");
        var s3= Symbol.for("s");

        console.log(s1===s2)//false
        console.log(s3===s2)//true
    </pre>

    <p>
        Symbol.keyFor方法返回一个已登记的 Symbol 类型值的描述信息。
        如果你想通过得到某个通过Symbol.for()创建的值的描述来创建一个同样的symbol值，
        那你就可以使用它。
    </p>
    <script  type="text/babel">
        var s1 = Symbol.for("s");
        console.log(Symbol.keyFor(s1));//s
    </script>
</div>
</body>
</html>